(this["webpackJsonpmovie-info"]=this["webpackJsonpmovie-info"]||[]).push([[0],{64:function(e,t,a){e.exports=a(82)},69:function(e,t,a){},70:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(21),r=a.n(i),c=(a(69),a(29)),l=a(5),s=(a(70),a(24)),p=a(25),d=a(28),u=a(26),m=a(110),h=a(6),v=a(50),f=a.n(v),E=a(23),y=a(20),g=a(102),b=a(108),O=a(109),M=a(55),x=a.n(M),w=a(111),I=a(105),j=a(106),R=a(37),T=function(){return{root:{maxWidth:345},paddingForCard:{padding:"22px"},typography:{color:"#fff"},media:{height:0,paddingTop:"56.25%",cursor:"pointer"},avatar:{backgroundColor:"red"},search:{position:"relative",borderRadius:"2px",backgroundColor:"#0000008f",border:"2px solid #0080006b","&:hover":{backgroundColor:"#000000",cursor:"pointer",border:"2px solid #0080008f"},marginLeft:0,width:"100%"},searchIcon:{padding:"1px",height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputInput:{width:"100%"},inputRoot:{color:"inherit"},header:{position:"fixed",top:0,display:"flex"}}},S=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).changeFilterType=function(e){e.target.value!==n.state.filterType&&n.setState({filterType:e.target.value})},n.updateFavourites=function(e){console.log(e),n.props.addToFavourites(e)},n.state={searchedMovieName:"",page:1,redirect:!1,filterType:"all"},n.searchForMovie=n.searchForMovie.bind(Object(E.a)(n)),n.handleScroll=n.handleScroll.bind(Object(E.a)(n)),n}return Object(p.a)(a,[{key:"handleScroll",value:function(){var e=this.props,t=e.movieList,a=e.apiKey,n=this.state,o=n.searchedMovieName,i=n.page,r="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,c=document.body,l=document.documentElement,s=Math.max(c.scrollHeight,c.offsetHeight,l.clientHeight,l.scrollHeight,l.offsetHeight);r+window.pageYOffset>=s-1&&t.totalResults>10*i&&(this.props.fetchMovieListNextCycle(a,o,i+1,this.state.filterType),this.setState({page:i+1}))}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"changeInput",value:function(e){this.setState({searchedMovieName:e.target.value.trim()})}},{key:"searchForMovie",value:function(){var e=this.props.apiKey,t=this.state.searchedMovieName;t&&this.props.fetchMovieList(e,t,this.state.filterType)}},{key:"movieDetails",value:function(e){this.setState({redirect:!0,selectedMovie:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.redirect,n=t.selectedMovie,i=this.props,r=i.classes,c=i.allMovies,s=i.notificationMsg;if(a&&n)return o.a.createElement(l.a,{to:"/movieDetails/".concat(n.imdbID)});return o.a.createElement(g.a,{container:!0,justify:"center"},o.a.createElement(g.a,{item:!0,xs:12},o.a.createElement(g.a,{container:!0,justify:"center"},o.a.createElement(g.a,{item:!0,xs:11,sm:8,md:6},o.a.createElement("div",{className:r.search},o.a.createElement("div",null,o.a.createElement("div",{className:r.searchIcon},"\xa0",o.a.createElement(x.a,null)),o.a.createElement(O.a,{id:"search-input",onBlur:this.changeInput.bind(this),placeholder:"Search for Movie Name",classes:{root:r.inputRoot,input:r.inputInput},inputProps:{"aria-label":"search"}}))),o.a.createElement("div",null,o.a.createElement("select",{name:"type",id:"selectType",onChange:this.changeFilterType},[{key:"all",value:"All"},{key:"movies",value:"Movies"},{key:"series",value:"Series"},{key:"episods",value:"Episods"}].map((function(e){return o.a.createElement("option",{key:e.key,value:e.key},e.value)}))))),o.a.createElement(g.a,{item:!0,xs:10,sm:3,md:2},o.a.createElement(b.a,{variant:"contained",color:"secondary",onClick:this.searchForMovie},"Search"))),o.a.createElement("br",null),s&&o.a.createElement(g.a,{item:!0,xs:11,sm:8,md:10},o.a.createElement(R.a,{variant:"body2",component:"p",className:r.typography},s)),o.a.createElement(g.a,{container:!0},c.length>0&&c.map((function(t,a){return o.a.createElement(g.a,{item:!0,xs:11,sm:6,md:4,className:r.paddingForCard,key:a},o.a.createElement(w.a,{className:r.root},o.a.createElement(I.a,{title:t.Title,subheader:t.Year}),o.a.createElement(j.a,{className:r.media,image:t.Poster,title:t.Title,onClick:e.movieDetails.bind(e,t)})))})))),o.a.createElement("div",{className:"scrollDiv"}))}}]),a}(o.a.Component),_=Object(y.c)((function(e){var t=e.DashBoardReducer;return{apiKey:t.apiKey,allMovies:t.allMovies,movieList:t.movieList,notificationMsg:t.notificationMsg,favourite:t.favourites}}),{addToFavourites:function(e){return function(t){return t({payload:e,type:"ADD_TO_FAVOURITES"})}},fetchMovieList:function(e,t,a){return function(n){return n({type:"CLEAR_MOVIE_DETAILS"}),fetch("https://www.omdbapi.com/?apikey=".concat(e,"&s=").concat(t,"&page=1").concat("all"!==a?"&type=".concat(a):"")).then((function(e){return e.json()})).then((function(e){"False"===e.Response?n({payload:"Record Not Found",type:"MOVIE_RECORD_MISSING"}):n({payload:e,type:"FETCH_MOVIE_LIST"})})).catch((function(e){return n({payload:"oops ,Somthing went wrong,Please try agin later",type:"NETWORK_ERROR"})}))}},fetchMovieListNextCycle:function(e,t,a,n){return function(o){return fetch("https://www.omdbapi.com/?apikey=".concat(e,"&s=").concat(t).concat("all"!==n?"&type=".concat(n):"","&page=").concat(a)).then((function(e){return e.json()})).then((function(e){"False"===e.Response?o({payload:"Record Not Found",type:"MOVIE_RECORD_MISSING"}):o({payload:e,type:"FETCH_MOVIE_LIST_MORE"})})).catch((function(e){return o({payload:"oops ,Somthing went wrong,Please try agin later",type:"NETWORK_ERROR"})}))}}})(Object(h.a)(T)(S)),k=a(107),C=function(){return{media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto"},expandOpen:{transform:"rotate(180deg)"}}},D=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={reDirect:!1},n.handleExpandClick=n.handleExpandClick.bind(Object(E.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.apiKey,a=e.match.params;a.id&&this.props.fetchMovieDetail(t,a.id)}},{key:"componentWillUnmount",value:function(){this.props.unMountMovieList()}},{key:"handleExpandClick",value:function(){this.setState({expanded:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.searchedMovie,n=t.classes;return this.state.reDirect?o.a.createElement(l.a,{to:"/"}):o.a.createElement(g.a,{container:!0,justify:"center"},o.a.createElement(g.a,{item:!0,xs:11,sm:9,md:6},Object.keys(a).length>0?o.a.createElement(w.a,null,o.a.createElement(I.a,{title:a.Title,subheader:a.Year}),o.a.createElement(j.a,{className:n.media,image:a.Poster,title:a.Title}),o.a.createElement(k.a,null,o.a.createElement(g.a,{container:!0},o.a.createElement(g.a,{item:!0,xs:12},o.a.createElement("b",null," Actors :"),o.a.createElement(R.a,{paragraph:!0},a.Actors),o.a.createElement("b",null,"Director :"),o.a.createElement(R.a,{paragraph:!0},a.Director),o.a.createElement("b",null,"Production :"),o.a.createElement(R.a,{paragraph:!0},a.Production),o.a.createElement("b",null,"Genre :"),o.a.createElement(R.a,{paragraph:!0},a.Genre),o.a.createElement("b",null,"imdbRating:"),o.a.createElement(R.a,{paragraph:!0},a.imdbRating),o.a.createElement(R.a,{variant:"body2",color:"textSecondary",component:"p"},a.Plot))))):o.a.createElement(R.a,{paragraph:!0},"Record not Found"),o.a.createElement("br",null),o.a.createElement(b.a,{variant:"contained",color:"secondary",onClick:function(){e.setState({reDirect:!0})}},"Back")))}}]),a}(o.a.Component),N=Object(y.c)((function(e){var t=e.DashBoardReducer;return{apiKey:t.apiKey,searchedMovie:t.searchedMovie}}),{fetchMovieDetail:function(e,t){return function(a){return fetch("https://www.omdbapi.com/?apikey=".concat(e,"&i=").concat(t)).then((function(e){return e.json()})).then((function(e){"False"===e.Response?a({payload:"Record Not Found",type:"MOVIE_RECORD_MISSING"}):a({payload:e,type:"FETCH_SEARCHED_MOVIE_DETAILS"})})).catch((function(e){return a({payload:"oops ,Somthing went wrong,Please try agin later",type:"NETWORK_ERROR"})}))}},unMountMovieList:function(){return function(e){e({type:"UN_MOUNT_MOVIE_LIST"})}}})(Object(h.a)(C)(D)),L=function(){return{accountLink:{"&:hover":{color:"#0086d1"},color:"#0066c0",cursor:"pointer"},appBar:{position:"fixed",width:"100%"},content:{flexGrow:1,marginTop:"12px",padding:"3px",width:"calc(100% - 72px)",position:"relative",minHeight:"calc(100vh - 115px - 12px)",boxSizing:"border-box"},contentOpen:{width:"100%",marginTop:"11px"},drawerPaper:{"& .MuiListItemIcon-root-68":{color:"white"},"& span":{color:"white"},backgroundColor:"#1f5a9e !important",color:"white",marginTop:"57px",maxHeight:"92vh",overflowX:"hidden",overflowY:"auto",position:"fixed",whiteSpace:"nowrap",width:225,zIndex:"1"},drawerPaperClose:{overflowX:"hidden",width:"46px"},footerContainer:{position:"absolute",left:0,right:0,bottom:"-115px",zIndex:-1},hide:{display:"none"},loaderLine:{flexGrow:1,position:"fixed",top:"60px",width:"100%",zIndex:4},menuButton:{marginLeft:12,marginRight:36},portalName:{left:"100px"},root:{color:"grey",display:"flex",flexGrow:1,fontSize:"13px",position:"relative",zIndex:1},space:{marginTop:"25px"},toolbar:{alignItems:"center",display:"flex",justifyContent:"flex-end",padding:"0 8px"}}},F=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={open:!0},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=f()(e.content,this.state.open?e.contentOpen:e.contentClose);return n.createElement("div",{style:{display:"flex",flexGrow:1,width:"100%",position:"relative",zIndex:1}},n.createElement("main",{className:t},n.createElement("div",{className:e.toolbar}),n.createElement("div",{style:{marginTop:"60px"}},n.createElement(l.b,{exact:!0,path:"/",component:_,key:"AppHome"}),n.createElement(l.b,{exact:!0,path:"/movieDetails/:id",component:N,key:"AppHome"}))))}}]),a}(n.Component),A=Object(m.a)()(Object(h.a)(L)(F));var H=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement(c.a,null,o.a.createElement(l.d,null,o.a.createElement(l.b,{exact:!1,path:"/",component:A,key:"AppLogin"})))))},V=a(22),K=a(49),P=a(58),G=a(56),B=a(57),U=a.n(B),W=a(33),z=a(9),Y={allMovies:[],movieList:{},apiKey:"b9bd48a6",notificationMsg:"",searchedMovie:{},favourites:[]},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_MOVIE_DETAILS":return Object(z.a)(Object(z.a)({},e),{},{movieList:{},allMovies:[]});case"ADD_TO_FAVOURITES":return Object(z.a)(Object(z.a)({},e),{},{favourites:[].concat(Object(W.a)(e.favourites),[t.payload])});case"REMOVE_FROM_FAVOURITES":if(t.payload.imdbID){var a=e.favourites.filter((function(e){return e.imdbID!==t.payload.imdbID}));return Object(z.a)(Object(z.a)({},e),{},{favourites:a})}case"FETCH_MOVIE_LIST":return Object(z.a)(Object(z.a)({},e),{},{movieList:t.payload,notificationMsg:"",allMovies:t.payload.Search});case"MOVIE_RECORD_MISSING":case"NETWORK_ERROR":return Object(z.a)(Object(z.a)({},e),{},{notificationMsg:t.payload});case"FETCH_MOVIE_LIST_MORE":return Object(z.a)(Object(z.a)({},e),{},{movieList:t.payload,allMovies:[].concat(Object(W.a)(e.allMovies.slice(0,e.allMovies.length-1)),Object(W.a)(t.payload.Search),Object(W.a)(e.allMovies.slice(0)))});case"FETCH_SEARCHED_MOVIE_DETAILS":return Object(z.a)(Object(z.a)({},e),{},{searchedMovie:t.payload});case"UN_MOUNT_MOVIE_LIST":return Y;default:return e}},X=Object(V.c)({DashBoardReducer:J}),$=(a(78),U()()),q=[G.a,Object(K.a)($)],Q=V.d.apply(void 0,[V.a.apply(void 0,q)].concat([])),Z=Object(V.e)(Object(P.a)($)(X),{},Q);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(y.a,{store:Z},o.a.createElement(H,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[64,1,2]]]);
//# sourceMappingURL=main.a562401c.chunk.js.map